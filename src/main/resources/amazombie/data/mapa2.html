<!DOCTYPE html>
<html>
<head>
    <title>Mapa Interactivo</title>
    <meta charset="UTF-8" />
    <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css"/>
    <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
    <style>
        html, body {
            height: 100%;
            margin: 0;
        }
        #map {
            width: 100%;
            height: 100%;
        }
    </style>

</head>
<body>
    <div id="map"></div>

    <script>
        window.addEventListener("load", function () {
            setTimeout(function () {
                var map = L.map('map').setView([19.5430, -96.9276], 13);

                L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
                    attribution: '&copy; OpenStreetMap contributors'
                }).addTo(map);

                var sucursales = [
                    {lat: 19.541281806405117, lng: -96.92698954560358, nombre: "Sucursal Xalapa Centro"},
                    {lat: 19.520408662910427, lng: -96.88343659472808, nombre: "Sucursal Xalapa Animas"},
                    {lat: 19.538985864340603, lng: -96.90718966346195, nombre: "Sucursal Xalapa Plaza Crystal"}
                ];

                sucursales.forEach(function(sucursal) {
                    L.marker([sucursal.lat, sucursal.lng]).addTo(map)
                        .bindPopup(sucursal.nombre);
                });

                // ⚠️ Forzar a Leaflet que se redibuje correctamente
                setTimeout(() => {
                    map.invalidateSize();
                }, 200);
            }, 100);
        });


    </script>
</body>
</html>
